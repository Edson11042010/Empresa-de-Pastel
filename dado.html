<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="dados.css">
    <link rel="icon" type="image/png" href="Logo do Pasticel Duarte (2).png">
    <title>Dados do cliente</title>
</head>

<body>

    <img class="banner" src="Banner 2.png" alt="Logo">

    <nav class="menu">
        <ul>
            <li><a href="Empresa Pastel.html">Página Inicial</a></li>
            <li><a href="pedido.html">Fazer Pedido</a></li>
            <li><a href="dado.html">Dados</a></li>
        </ul>
    </nav>

    <h1>Dados do Cliente</h1>

    <form id="formCliente">

        <label for="nome">Nome:</label>
        <input type="text" id="nome" required placeholder="Digite seu nome completo">

        <label for="email">E-mail:</label>
        <input type="email" id="email" required placeholder="seuemail@exemplo.com">

        <label for="telefone">Telefone:</label>
        <input type="tel" id="telefone" required placeholder="(xx) xxxxx-xxxx">

        <label for="endereco">Endereço:</label>
        <textarea id="endereco" required placeholder="Rua"></textarea>

        <label for="numero">Número:</label>
        <input type="number" id="numero" required placeholder="Número da casa">

        <label for="bairro">Bairro:</label>
        <input type="text" id="bairro" required placeholder="Bairro/Vila">

        <label for="referencia">Referência:</label>
        <input type="text" id="referencia" required placeholder="Casa, apartamento">

        <label for="estado">Estado:</label>
        <input type="text" id="estado" required placeholder="Estado Ex: São Paulo">

        <label for="cidade">Cidade:</label>
        <input type="text" id="cidade" required placeholder="Cidade Ex: Itapetininga">

        <button id="enviar">Salvar Dados</button>
    </form>

    <script>

        // ----------- CARREGAR DADOS AO ABRIR A PÁGINA -----------
        window.onload = function () {
            const dadosSalvos = localStorage.getItem("cliente");

            if (dadosSalvos) {
                const cliente = JSON.parse(dadosSalvos);

                document.getElementById("nome").value = cliente.nome;
                document.getElementById("email").value = cliente.email;
                document.getElementById("telefone").value = cliente.telefone;
                document.getElementById("endereco").value = cliente.endereco;
                document.getElementById("numero").value = cliente.numero;
                document.getElementById("bairro").value = cliente.bairro;
                document.getElementById("referencia").value = cliente.referencia;
                document.getElementById("estado").value = cliente.estado;
                document.getElementById("cidade").value = cliente.cidade;
            }
        };


        // ----------- SALVAR DADOS PERMANENTEMENTE -----------
        document.getElementById("enviar").addEventListener("click", function (event) {
            event.preventDefault();

            const cliente = {
                nome: document.getElementById("nome").value,
                email: document.getElementById("email").value,
                telefone: document.getElementById("telefone").value,
                endereco: document.getElementById("endereco").value,
                numero: document.getElementById("numero").value,
                bairro: document.getElementById("bairro").value,
                referencia: document.getElementById("referencia").value,
                estado: document.getElementById("estado").value,
                cidade: document.getElementById("cidade").value
            };

            localStorage.setItem("cliente", JSON.stringify(cliente));

            alert("Dados salvos permanentemente! ✔");
        });

    </script>

</body>

</html>
